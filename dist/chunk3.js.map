{"version":3,"sources":["webpack:///chunk3.js","webpack:///./src/views/manageView/roles.vue","webpack:///./src/utils/MO.js?659d","webpack:///./src/views/manageView/roles.vue?9ff7","webpack:///./src/views/manageView/roles.vue?6203","webpack:///./src/views/manageView/roles.vue?5892","webpack:///roles.vue","webpack:///./src/api/roles.js"],"names":["webpackJsonp","177","module","exports","__webpack_require__","injectStyle","ssrContext","Component","185","__webpack_exports__","restData","data","Object","keys","forEach","key","delDataList","row","index","indexOf","splice","191","push","i","203","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","size","type","on","click","add","_v","staticStyle","width","rolesList","border","fit","highlight-current-row","selection-change","selectAll","align","label","scopedSlots","_u","fn","scope","name","margin-left","_s","_f","createdAt","directives","rawName","value","expression","model","callback","$$v","remark","edit","icon","$event","handleEdit","$index","handleEditSave","handleDelete","title","visible","isDialog","update:visible","ref","addForm","label-width","on-text","off-text","read","write","slot","saveAdd","staticRenderFns","212","content","locals","222","defineProperty","__WEBPACK_IMPORTED_MODULE_0_api_roles__","__WEBPACK_IMPORTED_MODULE_1_utils_index__","__WEBPACK_IMPORTED_MODULE_2_utils_MO__","created","getRolesList","multipleSelection","methods","_this","then","res","map","v","_this2","$message","success","catch","error","val","params","objectId","status","_this3","225","createdRoles","roleAcl","__WEBPACK_IMPORTED_MODULE_0_leancloud_storage___default","a","ACL","setPublicReadAccess","setPublicWriteAccess","setReadAccess","User","current","setWriteAccess","Role","save","getRoles","query","find","delRoles","id","__WEBPACK_IMPORTED_MODULE_1_utils_fetch__","url","method","updateRoles","__WEBPACK_IMPORTED_MODULE_0_leancloud_storage__","n","Query"],"mappings":"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","file":"chunk3.js?9b60534671c4acf5dbbf","sourcesContent":["webpackJsonp([3],{\n\n/***/ 177:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(212)\n}\nvar Component = __webpack_require__(5)(\n  /* script */\n  __webpack_require__(222),\n  /* template */\n  __webpack_require__(203),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 185:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = restData;\n/* unused harmony export addData */\n/* unused harmony export updatesData */\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = delDataList;\n\n// 重置数据\nfunction restData(data) {\n    Object.keys(data).forEach(function (key) {\n        if (data[key] === false || data[key] === true) {\n            data[key] = false;\n        } else {\n            data[key] = '';\n        }\n    });\n    return data;\n}\n\n// 添加数据\nfunction addData(data, params) {\n    data.unshift(params);\n}\n\n// 修改数据\nfunction updatesData(data, rowData, row) {\n    var index = data.indexOf(row);\n    data.splice(index, 1, rowData);\n}\n\n// 数据删除\nfunction delDataList(data, row) {\n    var index = data.indexOf(row);\n    data.splice(index, 1);\n}\n\n/***/ }),\n\n/***/ 191:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(4)();\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 203:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {}, [_c('div', {\n    staticClass: \"topbar-wrapper\"\n  }, [_c('el-button', {\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"danger\"\n    },\n    on: {\n      \"click\": _vm.add\n    }\n  }, [_vm._v(\"新建角色\\n        \")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"table-wrapper\"\n  }, [_c('el-table', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.rolesList,\n      \"border\": \"\",\n      \"fit\": \"\",\n      \"highlight-current-row\": \"\"\n    },\n    on: {\n      \"selection-change\": _vm.selectAll\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"type\": \"selection\",\n      \"width\": \"55\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"日期\",\n      \"align\": \"center\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-icon', {\n          attrs: {\n            \"name\": \"time\"\n          }\n        }), _vm._v(\" \"), _c('span', {\n          staticStyle: {\n            \"margin-left\": \"10px\"\n          }\n        }, [_vm._v(_vm._s(_vm._f(\"timeConversion\")(scope.row.createdAt)))])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"角色名称\",\n      \"align\": \"center\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('span', [_vm._v(_vm._s(scope.row.name))])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"角色描叙\",\n      \"align\": \"center\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-input', {\n          directives: [{\n            name: \"show\",\n            rawName: \"v-show\",\n            value: (scope.row.edit),\n            expression: \"scope.row.edit\"\n          }],\n          model: {\n            value: (scope.row.remark),\n            callback: function($$v) {\n              scope.row.remark = $$v\n            },\n            expression: \"scope.row.remark\"\n          }\n        }), _vm._v(\" \"), _c('span', {\n          directives: [{\n            name: \"show\",\n            rawName: \"v-show\",\n            value: (!scope.row.edit),\n            expression: \"!scope.row.edit\"\n          }]\n        }, [_vm._v(_vm._s(scope.row.remark))])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"操作\",\n      \"align\": \"center\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          directives: [{\n            name: \"show\",\n            rawName: \"v-show\",\n            value: (!scope.row.edit),\n            expression: \"!scope.row.edit\"\n          }],\n          attrs: {\n            \"type\": \"primary\",\n            \"size\": \"small\",\n            \"icon\": \"edit\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.handleEdit(scope.$index, scope.row)\n            }\n          }\n        }, [_vm._v(\"编辑\")]), _vm._v(\" \"), _c('el-button', {\n          directives: [{\n            name: \"show\",\n            rawName: \"v-show\",\n            value: (scope.row.edit),\n            expression: \"scope.row.edit\"\n          }],\n          staticClass: \"edit-btn\",\n          attrs: {\n            \"type\": \"success\",\n            \"size\": \"small\",\n            \"icon\": \"check\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.handleEditSave(scope.$index, scope.row)\n            }\n          }\n        }, [_vm._v(\"完成\")]), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"size\": \"small\",\n            \"type\": \"danger\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.handleDelete(scope.$index, scope.row)\n            }\n          }\n        }, [_vm._v(\"删除\")])]\n      }\n    }])\n  })], 1)], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"新增角色\",\n      \"visible\": _vm.isDialog\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.isDialog = $event\n      }\n    }\n  }, [_c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"model\": _vm.addForm,\n      \"label-width\": \"80px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"角色名称\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.addForm.name),\n      callback: function($$v) {\n        _vm.addForm.name = $$v\n      },\n      expression: \"addForm.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"角色权限\"\n    }\n  }, [_vm._v(\"\\n                读\"), _c('el-switch', {\n    attrs: {\n      \"on-text\": \"\",\n      \"off-text\": \"\"\n    },\n    model: {\n      value: (_vm.addForm.read),\n      callback: function($$v) {\n        _vm.addForm.read = $$v\n      },\n      expression: \"addForm.read\"\n    }\n  }), _vm._v(\"\\n                写\"), _c('el-switch', {\n    attrs: {\n      \"on-text\": \"\",\n      \"off-text\": \"\"\n    },\n    model: {\n      value: (_vm.addForm.write),\n      callback: function($$v) {\n        _vm.addForm.write = $$v\n      },\n      expression: \"addForm.write\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.isDialog = false\n      }\n    }\n  }, [_vm._v(\"取 消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.saveAdd\n    }\n  }, [_vm._v(\"确 定\")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 212:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(191);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(6)(\"3a7c07ee\", content, true);\n\n/***/ }),\n\n/***/ 222:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_api_roles__ = __webpack_require__(225);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_utils_index__ = __webpack_require__(53);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_utils_MO__ = __webpack_require__(185);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'roles',\n    created: function created() {\n        this.getRolesList();\n    },\n    data: function data() {\n        return {\n            rolesList: null,\n            isDialog: false,\n            multipleSelection: [],\n            addForm: {\n                name: '',\n                read: false,\n                write: false\n            }\n        };\n    },\n\n    methods: {\n        getRolesList: function getRolesList() {\n            var _this = this;\n\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_api_roles__[\"a\" /* getRoles */])().then(function (res) {\n                _this.rolesList = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_utils_index__[\"a\" /* conversionData */])(res).map(function (v) {\n                    v.edit = false;\n                    return v;\n                });\n            });\n        },\n        add: function add() {\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_utils_MO__[\"a\" /* restData */])(this.addForm);\n            this.isDialog = true;\n        },\n        saveAdd: function saveAdd() {\n            var _this2 = this;\n\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_api_roles__[\"b\" /* createdRoles */])(this.addForm).then(function () {\n                _this2.isDialog = false;\n                _this2.$message.success('新增成功');\n                _this2.getRolesList();\n            }).catch(function (error) {\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_utils_index__[\"b\" /* errorMessage */])(error);\n            });\n        },\n        selectAll: function selectAll(val) {\n            this.multipleSelection = val;\n        },\n        handleEdit: function handleEdit(index, row) {\n            row.edit = true;\n        },\n        handleEditSave: function handleEditSave(index, row) {\n            var params = {\n                remark: row.remark\n            };\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_api_roles__[\"c\" /* updateRoles */])(row.objectId, params).then(function (res) {\n                if (res.status == 200) {\n                    row.edit = false;\n                }\n            });\n        },\n        handleDelete: function handleDelete(index, row) {\n            var _this3 = this;\n\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_utils_index__[\"c\" /* confirmMessage */])(\"确定删除该角色吗？\").then(function () {\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_api_roles__[\"d\" /* delRoles */])(row.objectId).then(function (res) {\n                    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_utils_MO__[\"b\" /* delDataList */])(_this3.rolesList, row);\n                    _this3.$message.success('删除成功');\n                });\n            }).catch(function (error) {\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_utils_index__[\"b\" /* errorMessage */])(error);\n            });\n        }\n    }\n});\n\n/***/ }),\n\n/***/ 225:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = createdRoles;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getRoles;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = delRoles;\n/* unused harmony export getRole */\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = updateRoles;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_leancloud_storage__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_leancloud_storage___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_leancloud_storage__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_utils_fetch__ = __webpack_require__(26);\n\n\n\nvar query = new __WEBPACK_IMPORTED_MODULE_0_leancloud_storage___default.a.Query('_Role');\n\n// 创建角色\nfunction createdRoles(data) {\n    // 新建一个角色，并把为当前用户赋予该角色\n    var roleAcl = new __WEBPACK_IMPORTED_MODULE_0_leancloud_storage___default.a.ACL();\n    roleAcl.setPublicReadAccess(data.read);\n    roleAcl.setPublicWriteAccess(data.write);\n\n    // 当前用户是该角色的创建者，因此具备对该角色的写权限\n    roleAcl.setReadAccess(__WEBPACK_IMPORTED_MODULE_0_leancloud_storage___default.a.User.current(), true);\n    roleAcl.setWriteAccess(__WEBPACK_IMPORTED_MODULE_0_leancloud_storage___default.a.User.current(), true);\n\n    //新建角色\n    var administratorRole = new __WEBPACK_IMPORTED_MODULE_0_leancloud_storage___default.a.Role(data.name, roleAcl);\n    return administratorRole.save();\n}\n\n// 查询角色列表\nfunction getRoles() {\n    return query.find();\n}\n\n// 删除角色\nfunction delRoles(id) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_utils_fetch__[\"a\" /* default */])({\n        url: 'roles/' + id,\n        method: 'DELETE'\n    });\n}\n\n// 获取角色\nfunction getRole(id) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_utils_fetch__[\"a\" /* default */])({\n        url: 'roles/' + id,\n        method: 'GET'\n    });\n}\n\n// 更新角色\nfunction updateRoles(id, data) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_utils_fetch__[\"a\" /* default */])({\n        url: 'roles/' + id,\n        method: 'PUT',\n        data: data\n    });\n}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// chunk3.js?9b60534671c4acf5dbbf","function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader!../../../node_modules/.12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-730318ce\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader!../../../node_modules/.12.2.2@vue-loader/lib/selector?type=styles&index=0!./roles.vue\")\n}\nvar Component = require(\"!../../../node_modules/.12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/.12.2.2@vue-loader/lib/selector?type=script&index=0!./roles.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/.12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-730318ce\\\",\\\"hasScoped\\\":false}!../../../node_modules/.12.2.2@vue-loader/lib/selector?type=template&index=0!./roles.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/manageView/roles.vue\n// module id = 177\n// module chunks = 3","\r\n// 重置数据\r\nexport function restData(data) {\r\n    Object.keys(data).forEach(key => {\r\n        if (data[key] === false || data[key] === true) {\r\n            data[key] = false\r\n        } else {\r\n            data[key] = '';\r\n        }\r\n    });\r\n    return data;\r\n}\r\n\r\n// 添加数据\r\nexport function addData(data,params) {\r\n    data.unshift(params);\r\n}\r\n\r\n// 修改数据\r\nexport function updatesData(data, rowData, row) {\r\n    const index = data.indexOf(row);\r\n    data.splice(index, 1,rowData);\r\n}\r\n\r\n// 数据删除\r\nexport function delDataList(data,row) {\r\n    const index = data.indexOf(row);\r\n    data.splice(index, 1);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/MO.js","exports = module.exports = require(\"../../../node_modules/.0.25.0@css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.0.25.0@css-loader!./~/.12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-730318ce\",\"scoped\":false,\"hasInlineConfig\":false}!./~/.5.0.1@sass-loader/lib/loader.js!./~/.12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/views/manageView/roles.vue\n// module id = 191\n// module chunks = 3","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {}, [_c('div', {\n    staticClass: \"topbar-wrapper\"\n  }, [_c('el-button', {\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"danger\"\n    },\n    on: {\n      \"click\": _vm.add\n    }\n  }, [_vm._v(\"新建角色\\n        \")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"table-wrapper\"\n  }, [_c('el-table', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.rolesList,\n      \"border\": \"\",\n      \"fit\": \"\",\n      \"highlight-current-row\": \"\"\n    },\n    on: {\n      \"selection-change\": _vm.selectAll\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"type\": \"selection\",\n      \"width\": \"55\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"日期\",\n      \"align\": \"center\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-icon', {\n          attrs: {\n            \"name\": \"time\"\n          }\n        }), _vm._v(\" \"), _c('span', {\n          staticStyle: {\n            \"margin-left\": \"10px\"\n          }\n        }, [_vm._v(_vm._s(_vm._f(\"timeConversion\")(scope.row.createdAt)))])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"角色名称\",\n      \"align\": \"center\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('span', [_vm._v(_vm._s(scope.row.name))])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"角色描叙\",\n      \"align\": \"center\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-input', {\n          directives: [{\n            name: \"show\",\n            rawName: \"v-show\",\n            value: (scope.row.edit),\n            expression: \"scope.row.edit\"\n          }],\n          model: {\n            value: (scope.row.remark),\n            callback: function($$v) {\n              scope.row.remark = $$v\n            },\n            expression: \"scope.row.remark\"\n          }\n        }), _vm._v(\" \"), _c('span', {\n          directives: [{\n            name: \"show\",\n            rawName: \"v-show\",\n            value: (!scope.row.edit),\n            expression: \"!scope.row.edit\"\n          }]\n        }, [_vm._v(_vm._s(scope.row.remark))])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"操作\",\n      \"align\": \"center\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          directives: [{\n            name: \"show\",\n            rawName: \"v-show\",\n            value: (!scope.row.edit),\n            expression: \"!scope.row.edit\"\n          }],\n          attrs: {\n            \"type\": \"primary\",\n            \"size\": \"small\",\n            \"icon\": \"edit\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.handleEdit(scope.$index, scope.row)\n            }\n          }\n        }, [_vm._v(\"编辑\")]), _vm._v(\" \"), _c('el-button', {\n          directives: [{\n            name: \"show\",\n            rawName: \"v-show\",\n            value: (scope.row.edit),\n            expression: \"scope.row.edit\"\n          }],\n          staticClass: \"edit-btn\",\n          attrs: {\n            \"type\": \"success\",\n            \"size\": \"small\",\n            \"icon\": \"check\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.handleEditSave(scope.$index, scope.row)\n            }\n          }\n        }, [_vm._v(\"完成\")]), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"size\": \"small\",\n            \"type\": \"danger\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.handleDelete(scope.$index, scope.row)\n            }\n          }\n        }, [_vm._v(\"删除\")])]\n      }\n    }])\n  })], 1)], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"新增角色\",\n      \"visible\": _vm.isDialog\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.isDialog = $event\n      }\n    }\n  }, [_c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"model\": _vm.addForm,\n      \"label-width\": \"80px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"角色名称\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.addForm.name),\n      callback: function($$v) {\n        _vm.addForm.name = $$v\n      },\n      expression: \"addForm.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"角色权限\"\n    }\n  }, [_vm._v(\"\\n                读\"), _c('el-switch', {\n    attrs: {\n      \"on-text\": \"\",\n      \"off-text\": \"\"\n    },\n    model: {\n      value: (_vm.addForm.read),\n      callback: function($$v) {\n        _vm.addForm.read = $$v\n      },\n      expression: \"addForm.read\"\n    }\n  }), _vm._v(\"\\n                写\"), _c('el-switch', {\n    attrs: {\n      \"on-text\": \"\",\n      \"off-text\": \"\"\n    },\n    model: {\n      value: (_vm.addForm.write),\n      callback: function($$v) {\n        _vm.addForm.write = $$v\n      },\n      expression: \"addForm.write\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.isDialog = false\n      }\n    }\n  }, [_vm._v(\"取 消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.saveAdd\n    }\n  }, [_vm._v(\"确 定\")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-730318ce\",\"hasScoped\":false}!./~/.12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/manageView/roles.vue\n// module id = 203\n// module chunks = 3","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/.0.25.0@css-loader/index.js!../../../node_modules/.12.2.2@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-730318ce\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/.5.0.1@sass-loader/lib/loader.js!../../../node_modules/.12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./roles.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/.3.0.1@vue-style-loader/lib/addStylesClient.js\")(\"3a7c07ee\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.3.0.1@vue-style-loader!./~/.0.25.0@css-loader!./~/.12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-730318ce\",\"scoped\":false,\"hasInlineConfig\":false}!./~/.5.0.1@sass-loader/lib/loader.js!./~/.12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/views/manageView/roles.vue\n// module id = 212\n// module chunks = 3","<template>\r\n    <div class=\"\">\r\n        <div class=\"topbar-wrapper\">\r\n            <el-button\r\n                    size=\"small\"\r\n                    type=\"danger\"\r\n                    @click=\"add\">新建角色\r\n            </el-button>\r\n        </div>\r\n        <div class=\"table-wrapper\">\r\n            <el-table\r\n                    :data=\"rolesList\"\r\n                    @selection-change=\"selectAll\"\r\n                    border\r\n                    fit\r\n                    highlight-current-row\r\n                    style=\"width: 100%\">\r\n                <el-table-column\r\n                        type=\"selection\"\r\n                        width=\"55\" align=\"center\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        label=\"日期\" align=\"center\">\r\n                    <template scope=\"scope\">\r\n                        <el-icon name=\"time\"></el-icon>\r\n                        <span style=\"margin-left: 10px\">{{ scope.row.createdAt | timeConversion}}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                        label=\"角色名称\" align=\"center\">\r\n                    <template scope=\"scope\">\r\n                        <span>{{scope.row.name}}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                        label=\"角色描叙\" align=\"center\">\r\n                    <template scope=\"scope\">\r\n                        <el-input v-show=\"scope.row.edit\" v-model=\"scope.row.remark\"></el-input>\r\n                        <span v-show=\"!scope.row.edit\">{{scope.row.remark}}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"操作\" align=\"center\">\r\n                    <template scope=\"scope\">\r\n                        <el-button\r\n                                v-show=\"!scope.row.edit\"\r\n                                type=\"primary\"\r\n                                size=\"small\"\r\n                                @click='handleEdit(scope.$index, scope.row)' icon=\"edit\">编辑</el-button>\r\n                        <el-button\r\n                                class=\"edit-btn\"\r\n                                v-show=\"scope.row.edit\"\r\n                                type=\"success\"\r\n                                size=\"small\"\r\n                                @click=\"handleEditSave(scope.$index, scope.row)\" icon=\"check\">完成</el-button>\r\n                        <el-button\r\n                                size=\"small\"\r\n                                type=\"danger\"\r\n                                @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </div>\r\n        <el-dialog title=\"新增角色\" :visible.sync=\"isDialog\">\r\n            <el-form ref=\"form\" :model=\"addForm\" label-width=\"80px\">\r\n                <el-form-item label=\"角色名称\">\r\n                    <el-input v-model=\"addForm.name\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"角色权限\">\r\n                    读<el-switch on-text=\"\" off-text=\"\" v-model=\"addForm.read\"></el-switch>\r\n                    写<el-switch on-text=\"\" off-text=\"\" v-model=\"addForm.write\"></el-switch>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"isDialog = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"saveAdd\">确 定</el-button>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n<style lang=\"scss\">\r\n\r\n</style>\r\n<script type='text/ecmascript-6'>\r\n    import { getRoles, getRole, createdRoles, delRoles, updateRoles } from 'api/roles';\r\n    import { conversionData, errorMessage, confirmMessage } from 'utils/index';\r\n    import { restData, delDataList } from 'utils/MO';\r\n    export default {\r\n        name: 'roles',\r\n        created() {\r\n            this.getRolesList();\r\n        },\r\n        data() {\r\n            return {\r\n                rolesList: null,\r\n                isDialog: false,\r\n                multipleSelection: [],\r\n                addForm: {\r\n                    name: '',\r\n                    read: false,\r\n                    write: false\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            getRolesList() {\r\n                getRoles().then((res) => {\r\n                    this.rolesList = conversionData(res).map(v => {\r\n                        v.edit = false;\r\n                        return v;\r\n                    })\r\n                })\r\n            },\r\n            add() {\r\n                restData(this.addForm);\r\n                this.isDialog = true;\r\n            },\r\n            saveAdd() {\r\n                createdRoles(this.addForm).then(() => {\r\n                    this.isDialog = false;\r\n                    this.$message.success('新增成功');\r\n                    this.getRolesList();\r\n                }).catch(error => {\r\n                    errorMessage(error)\r\n                });\r\n            },\r\n            selectAll(val) {\r\n                this.multipleSelection = val;\r\n            },\r\n            handleEdit(index,row) {\r\n                row.edit = true;\r\n            },\r\n            handleEditSave(index,row) {\r\n                let params = {\r\n                    remark: row.remark\r\n                };\r\n                updateRoles(row.objectId,params).then((res) => {\r\n                    if (res.status == 200) {\r\n                        row.edit = false;\r\n                    }\r\n                })\r\n            },\r\n            handleDelete(index,row) {\r\n                confirmMessage(\"确定删除该角色吗？\").then(() => {\r\n                    delRoles(row.objectId).then((res) => {\r\n                        delDataList(this.rolesList,row);\r\n                        this.$message.success('删除成功');\r\n                    })\r\n                }).catch(error => {\r\n                    errorMessage(error)\r\n                });\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// roles.vue?efb8430c","import AV from 'leancloud-storage'\r\nimport fetch from 'utils/fetch';\r\n\r\nconst query = new AV.Query('_Role');\r\n\r\n// 创建角色\r\nexport function createdRoles(data) {\r\n    // 新建一个角色，并把为当前用户赋予该角色\r\n    let roleAcl = new AV.ACL();\r\n    roleAcl.setPublicReadAccess(data.read);\r\n    roleAcl.setPublicWriteAccess(data.write);\r\n\r\n    // 当前用户是该角色的创建者，因此具备对该角色的写权限\r\n    roleAcl.setReadAccess(AV.User.current(), true);\r\n    roleAcl.setWriteAccess(AV.User.current(), true);\r\n\r\n    //新建角色\r\n    let administratorRole = new AV.Role(data.name, roleAcl);\r\n    return  administratorRole.save()\r\n}\r\n\r\n// 查询角色列表\r\nexport function getRoles() {\r\n    return query.find();\r\n}\r\n\r\n// 删除角色\r\nexport function delRoles(id) {\r\n    return fetch({\r\n        url: 'roles/' + id,\r\n        method: 'DELETE'\r\n    })\r\n}\r\n\r\n// 获取角色\r\nexport function getRole(id) {\r\n    return fetch({\r\n        url: 'roles/' + id,\r\n        method: 'GET'\r\n    })\r\n}\r\n\r\n// 更新角色\r\nexport function updateRoles(id,data) {\r\n    return fetch({\r\n        url: 'roles/' + id,\r\n        method: 'PUT',\r\n        data: data\r\n    })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/roles.js"],"sourceRoot":""}