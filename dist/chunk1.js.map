{"version":3,"sources":["webpack:///chunk1.js","webpack:///./src/views/manageView/users.vue","webpack:///./src/components/Pagination/index.vue?b1df*","webpack:///./src/components/Pagination/index.vue?895f","webpack:///./src/components/Pagination/index.vue?2092*","webpack:///./src/components/Pagination/index.vue?3fd4*","webpack:///index.vue?022f","webpack:///./src/utils/MO.js","webpack:///./src/views/manageView/users.vue?84c8","webpack:///./src/views/manageView/users.vue?afc0","webpack:///./src/views/manageView/users.vue?1886","webpack:///users.vue","webpack:///./src/api/users.js"],"names":["webpackJsonp","178","module","exports","__webpack_require__","injectStyle","ssrContext","Component","180","push","i","181","182","render","_vm","this","_h","$createElement","_c","_self","attrs","current-page","currentPage","page-sizes","pageSizes","page-size","pageSize","layout","total","on","size-change","handleSizeChange","current-change","handleCurrentChange","staticRenderFns","183","content","locals","184","__webpack_exports__","Object","defineProperty","value","name","props","type","Number","Array","data","computed","methods","val","$emit","185","restData","keys","forEach","key","delDataList","row","index","indexOf","splice","190","202","staticClass","size","click","add","_v","staticStyle","width","usersList","border","fit","highlight-current-row","selection-change","selectAll","align","label","scopedSlots","_u","fn","scope","margin-left","_s","_f","createdAt","username","directives","rawName","edit","expression","icon","$event","handleEdit","$index","handleEditSave","handleDelete","count","title","visible","isDialog","update:visible","ref","model","addForm","label-width","callback","$$v","on-text","off-text","read","write","slot","saveAdd","211","223","__WEBPACK_IMPORTED_MODULE_0_components_Pagination_index__","__WEBPACK_IMPORTED_MODULE_0_components_Pagination_index___default","n","__WEBPACK_IMPORTED_MODULE_1_api_users__","__WEBPACK_IMPORTED_MODULE_2_utils_index__","__WEBPACK_IMPORTED_MODULE_3_utils_MO__","created","getUsersList","getCount","multipleSelection","listQuery","limit","skip","_this","then","res","results","map","v","_this2","_this3","createdRoles","$message","success","getRolesList","catch","error","params","remark","updateRoles","objectId","status","_this4","close","components","Pagination","a","227","getUsers","__WEBPACK_IMPORTED_MODULE_1_utils_fetch__","url","method","getUserCount","query","delUsers","id","__WEBPACK_IMPORTED_MODULE_0_leancloud_storage__","__WEBPACK_IMPORTED_MODULE_0_leancloud_storage___default","Query"],"mappings":"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","file":"chunk1.js?e265b12678615f28c22c","sourcesContent":["webpackJsonp([1],{\n\n/***/ 178:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(211)\n}\nvar Component = __webpack_require__(5)(\n  /* script */\n  __webpack_require__(223),\n  /* template */\n  __webpack_require__(202),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 180:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(4)();\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 181:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(183)\n}\nvar Component = __webpack_require__(5)(\n  /* script */\n  __webpack_require__(184),\n  /* template */\n  __webpack_require__(182),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 182:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-pagination', {\n    attrs: {\n      \"current-page\": _vm.currentPage,\n      \"page-sizes\": _vm.pageSizes,\n      \"page-size\": _vm.pageSize,\n      \"layout\": \"total, sizes, prev, pager, next, jumper\",\n      \"total\": _vm.total\n    },\n    on: {\n      \"size-change\": _vm.handleSizeChange,\n      \"current-change\": _vm.handleCurrentChange\n    }\n  })], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 183:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(180);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(6)(\"5399b55e\", content, true);\n\n/***/ }),\n\n/***/ 184:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'Pagination',\n    props: {\n        total: {\n            type: Number\n        },\n        pageSizes: {\n            type: Array\n        }\n    },\n    data: function data() {\n        return {\n            currentPage: 1\n        };\n    },\n\n    computed: {\n        pageSize: function pageSize() {\n            return this.pageSizes[0];\n        }\n    },\n    methods: {\n        handleSizeChange: function handleSizeChange(val) {\n            this.$emit(\"handleSizeChange\", val);\n        },\n        handleCurrentChange: function handleCurrentChange(val) {\n            this.$emit(\"handleCurrentChange\", val);\n        }\n    }\n});\n\n/***/ }),\n\n/***/ 185:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = restData;\n/* unused harmony export addData */\n/* unused harmony export updatesData */\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = delDataList;\n\n// 重置数据\nfunction restData(data) {\n    Object.keys(data).forEach(function (key) {\n        if (data[key] === false || data[key] === true) {\n            data[key] = false;\n        } else {\n            data[key] = '';\n        }\n    });\n    return data;\n}\n\n// 添加数据\nfunction addData(data, params) {\n    data.unshift(params);\n}\n\n// 修改数据\nfunction updatesData(data, rowData, row) {\n    var index = data.indexOf(row);\n    data.splice(index, 1, rowData);\n}\n\n// 数据删除\nfunction delDataList(data, row) {\n    var index = data.indexOf(row);\n    data.splice(index, 1);\n}\n\n/***/ }),\n\n/***/ 190:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(4)();\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 202:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {}, [_c('div', {\n    staticClass: \"topbar-wrapper\"\n  }, [_c('el-button', {\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"danger\"\n    },\n    on: {\n      \"click\": _vm.add\n    }\n  }, [_vm._v(\"新建角色\\n        \")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"table-wrapper\"\n  }, [_c('el-table', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.usersList,\n      \"border\": \"\",\n      \"fit\": \"\",\n      \"highlight-current-row\": \"\"\n    },\n    on: {\n      \"selection-change\": _vm.selectAll\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"type\": \"selection\",\n      \"width\": \"55\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"日期\",\n      \"align\": \"center\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-icon', {\n          attrs: {\n            \"name\": \"time\"\n          }\n        }), _vm._v(\" \"), _c('span', {\n          staticStyle: {\n            \"margin-left\": \"10px\"\n          }\n        }, [_vm._v(_vm._s(_vm._f(\"timeConversion\")(scope.row.createdAt)))])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"用户名称\",\n      \"align\": \"center\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('span', [_vm._v(_vm._s(scope.row.username))])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"操作\",\n      \"align\": \"center\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          directives: [{\n            name: \"show\",\n            rawName: \"v-show\",\n            value: (!scope.row.edit),\n            expression: \"!scope.row.edit\"\n          }],\n          attrs: {\n            \"type\": \"primary\",\n            \"size\": \"small\",\n            \"icon\": \"edit\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.handleEdit(scope.$index, scope.row)\n            }\n          }\n        }, [_vm._v(\"编辑\")]), _vm._v(\" \"), _c('el-button', {\n          directives: [{\n            name: \"show\",\n            rawName: \"v-show\",\n            value: (scope.row.edit),\n            expression: \"scope.row.edit\"\n          }],\n          staticClass: \"edit-btn\",\n          attrs: {\n            \"type\": \"success\",\n            \"size\": \"small\",\n            \"icon\": \"check\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.handleEditSave(scope.$index, scope.row)\n            }\n          }\n        }, [_vm._v(\"完成\")]), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"size\": \"small\",\n            \"type\": \"danger\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.handleDelete(scope.$index, scope.row)\n            }\n          }\n        }, [_vm._v(\"删除\")])]\n      }\n    }])\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"footer-wrapper\"\n  }, [_c('Pagination', {\n    attrs: {\n      \"total\": _vm.count,\n      \"pageSizes\": _vm.pageSizes\n    },\n    on: {\n      \"handleSizeChange\": _vm.handleSizeChange,\n      \"handleCurrentChange\": _vm.handleCurrentChange\n    }\n  })], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"新增角色\",\n      \"visible\": _vm.isDialog\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.isDialog = $event\n      }\n    }\n  }, [_c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"model\": _vm.addForm,\n      \"label-width\": \"80px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"角色名称\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.addForm.name),\n      callback: function($$v) {\n        _vm.addForm.name = $$v\n      },\n      expression: \"addForm.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"角色权限\"\n    }\n  }, [_vm._v(\"\\n                读\"), _c('el-switch', {\n    attrs: {\n      \"on-text\": \"\",\n      \"off-text\": \"\"\n    },\n    model: {\n      value: (_vm.addForm.read),\n      callback: function($$v) {\n        _vm.addForm.read = $$v\n      },\n      expression: \"addForm.read\"\n    }\n  }), _vm._v(\"\\n                写\"), _c('el-switch', {\n    attrs: {\n      \"on-text\": \"\",\n      \"off-text\": \"\"\n    },\n    model: {\n      value: (_vm.addForm.write),\n      callback: function($$v) {\n        _vm.addForm.write = $$v\n      },\n      expression: \"addForm.write\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.isDialog = false\n      }\n    }\n  }, [_vm._v(\"取 消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.saveAdd\n    }\n  }, [_vm._v(\"确 定\")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 211:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(190);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(6)(\"e77fdee8\", content, true);\n\n/***/ }),\n\n/***/ 223:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_components_Pagination_index__ = __webpack_require__(181);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_components_Pagination_index___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_components_Pagination_index__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_api_users__ = __webpack_require__(227);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_utils_index__ = __webpack_require__(53);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_utils_MO__ = __webpack_require__(185);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'users',\n    created: function created() {\n        this.getUsersList();\n        this.getCount();\n    },\n    data: function data() {\n        return {\n            usersList: [],\n            isDialog: false,\n            multipleSelection: [],\n            pageSizes: [10, 20],\n            addForm: {\n                name: '',\n                read: false,\n                write: false\n            },\n            listQuery: {\n                limit: 10,\n                skip: 0\n            },\n            count: 0\n        };\n    },\n\n    computed: {},\n    methods: {\n        getUsersList: function getUsersList() {\n            var _this = this;\n\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_api_users__[\"a\" /* getUsers */])(this.listQuery).then(function (res) {\n                _this.usersList = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_utils_index__[\"a\" /* conversionData */])(res).data.results.map(function (v) {\n                    v.edit = false;\n                    return v;\n                });\n            });\n        },\n        getCount: function getCount() {\n            var _this2 = this;\n\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_api_users__[\"b\" /* getUserCount */])().then(function (res) {\n                _this2.count = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_utils_index__[\"a\" /* conversionData */])(res);\n            });\n        },\n        add: function add() {\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_utils_MO__[\"a\" /* restData */])(this.addForm);\n            this.isDialog = true;\n        },\n        saveAdd: function saveAdd() {\n            var _this3 = this;\n\n            createdRoles(this.addForm).then(function () {\n                _this3.isDialog = false;\n                _this3.$message.success('新增成功');\n                _this3.getRolesList();\n            }).catch(function (error) {\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_utils_index__[\"b\" /* errorMessage */])(error);\n            });\n        },\n        selectAll: function selectAll(val) {\n            this.multipleSelection = val;\n        },\n        handleEdit: function handleEdit(index, row) {\n            row.edit = true;\n        },\n        handleEditSave: function handleEditSave(index, row) {\n            var params = {\n                remark: row.remark\n            };\n            updateRoles(row.objectId, params).then(function (res) {\n                if (res.status == 200) {\n                    row.edit = false;\n                }\n            });\n        },\n        handleDelete: function handleDelete(index, row) {\n            var _this4 = this;\n\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_utils_index__[\"c\" /* confirmMessage */])(\"确定删除该用户吗？\").then(function () {\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_api_users__[\"c\" /* delUsers */])(row.objectId).then(function (res) {\n                    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_utils_MO__[\"b\" /* delDataList */])(_this4.usersList, row);\n                    _this4.$message.success('删除成功');\n                });\n            }).catch(function (error) {\n                if (error) {\n                    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_utils_index__[\"b\" /* errorMessage */])(error);\n                } else {\n                    _this4.$message.close();\n                }\n            });\n        },\n        handleSizeChange: function handleSizeChange(val) {\n            this.listQuery.limit = val;\n            this.getUsersList(this.listQuery);\n        },\n        handleCurrentChange: function handleCurrentChange(val) {\n            this.listQuery.skip = (val - 1) * this.listQuery.limit;\n            this.getUsersList(this.listQuery);\n        }\n    },\n    components: {\n        'Pagination': __WEBPACK_IMPORTED_MODULE_0_components_Pagination_index___default.a\n    }\n});\n\n/***/ }),\n\n/***/ 227:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getUsers;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = getUserCount;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = delUsers;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_leancloud_storage__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_leancloud_storage___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_leancloud_storage__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_utils_fetch__ = __webpack_require__(26);\n\n\n\nvar query = new __WEBPACK_IMPORTED_MODULE_0_leancloud_storage___default.a.Query('_User');\n\nfunction getUsers(params) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_utils_fetch__[\"a\" /* default */])({\n        url: 'users',\n        method: 'GET',\n        params: params\n    });\n}\n\nfunction getUserCount() {\n    return query.count();\n}\n\nfunction delUsers(id) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_utils_fetch__[\"a\" /* default */])({\n        url: 'users/' + id,\n        method: 'DELETE'\n    });\n}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// chunk1.js?e265b12678615f28c22c","function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader!../../../node_modules/.12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-72985538\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader!../../../node_modules/.12.2.2@vue-loader/lib/selector?type=styles&index=0!./users.vue\")\n}\nvar Component = require(\"!../../../node_modules/.12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/.12.2.2@vue-loader/lib/selector?type=script&index=0!./users.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/.12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-72985538\\\",\\\"hasScoped\\\":false}!../../../node_modules/.12.2.2@vue-loader/lib/selector?type=template&index=0!./users.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/manageView/users.vue\n// module id = 178\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/.0.25.0@css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.0.25.0@css-loader!./~/.12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-28684274\",\"scoped\":false,\"hasInlineConfig\":false}!./~/.5.0.1@sass-loader/lib/loader.js!./~/.12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/components/Pagination/index.vue\n// module id = 180\n// module chunks = 0 1","function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader!../../../node_modules/.12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-28684274\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader!../../../node_modules/.12.2.2@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar Component = require(\"!../../../node_modules/.12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/.12.2.2@vue-loader/lib/selector?type=script&index=0!./index.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/.12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-28684274\\\",\\\"hasScoped\\\":false}!../../../node_modules/.12.2.2@vue-loader/lib/selector?type=template&index=0!./index.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Pagination/index.vue\n// module id = 181\n// module chunks = 0 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-pagination', {\n    attrs: {\n      \"current-page\": _vm.currentPage,\n      \"page-sizes\": _vm.pageSizes,\n      \"page-size\": _vm.pageSize,\n      \"layout\": \"total, sizes, prev, pager, next, jumper\",\n      \"total\": _vm.total\n    },\n    on: {\n      \"size-change\": _vm.handleSizeChange,\n      \"current-change\": _vm.handleCurrentChange\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-28684274\",\"hasScoped\":false}!./~/.12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/Pagination/index.vue\n// module id = 182\n// module chunks = 0 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/.0.25.0@css-loader/index.js!../../../node_modules/.12.2.2@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-28684274\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/.5.0.1@sass-loader/lib/loader.js!../../../node_modules/.12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./index.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/.3.0.1@vue-style-loader/lib/addStylesClient.js\")(\"5399b55e\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.3.0.1@vue-style-loader!./~/.0.25.0@css-loader!./~/.12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-28684274\",\"scoped\":false,\"hasInlineConfig\":false}!./~/.5.0.1@sass-loader/lib/loader.js!./~/.12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/components/Pagination/index.vue\n// module id = 183\n// module chunks = 0 1","<template>\r\n    <div>\r\n        <el-pagination\r\n                @size-change=\"handleSizeChange\"\r\n                @current-change=\"handleCurrentChange\"\r\n                :current-page=\"currentPage\"\r\n                :page-sizes=\"pageSizes\"\r\n                :page-size=\"pageSize\"\r\n                layout=\"total, sizes, prev, pager, next, jumper\"\r\n                :total=\"total\">\r\n        </el-pagination>\r\n    </div>\r\n</template>\r\n<style lang=\"scss\">\r\n\r\n</style>\r\n<script type='text/ecmascript-6'>\r\n    export default {\r\n        name: 'Pagination',\r\n        props: {\r\n            total: {\r\n                type: Number\r\n            },\r\n            pageSizes: {\r\n                type: Array\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                currentPage: 1\r\n            };\r\n        },\r\n        computed: {\r\n            pageSize() {\r\n                return this.pageSizes[0];\r\n            }\r\n        },\r\n        methods: {\r\n            handleSizeChange(val) {\r\n                this.$emit(\"handleSizeChange\",val);\r\n            },\r\n            handleCurrentChange(val) {\r\n                this.$emit(\"handleCurrentChange\",val);\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// index.vue?6761d784","\r\n// 重置数据\r\nexport function restData(data) {\r\n    Object.keys(data).forEach(key => {\r\n        if (data[key] === false || data[key] === true) {\r\n            data[key] = false\r\n        } else {\r\n            data[key] = '';\r\n        }\r\n    });\r\n    return data;\r\n}\r\n\r\n// 添加数据\r\nexport function addData(data,params) {\r\n    data.unshift(params);\r\n}\r\n\r\n// 修改数据\r\nexport function updatesData(data, rowData, row) {\r\n    const index = data.indexOf(row);\r\n    data.splice(index, 1,rowData);\r\n}\r\n\r\n// 数据删除\r\nexport function delDataList(data,row) {\r\n    const index = data.indexOf(row);\r\n    data.splice(index, 1);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/MO.js","exports = module.exports = require(\"../../../node_modules/.0.25.0@css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.0.25.0@css-loader!./~/.12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-72985538\",\"scoped\":false,\"hasInlineConfig\":false}!./~/.5.0.1@sass-loader/lib/loader.js!./~/.12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/views/manageView/users.vue\n// module id = 190\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {}, [_c('div', {\n    staticClass: \"topbar-wrapper\"\n  }, [_c('el-button', {\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"danger\"\n    },\n    on: {\n      \"click\": _vm.add\n    }\n  }, [_vm._v(\"新建角色\\n        \")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"table-wrapper\"\n  }, [_c('el-table', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.usersList,\n      \"border\": \"\",\n      \"fit\": \"\",\n      \"highlight-current-row\": \"\"\n    },\n    on: {\n      \"selection-change\": _vm.selectAll\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"type\": \"selection\",\n      \"width\": \"55\",\n      \"align\": \"center\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"日期\",\n      \"align\": \"center\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-icon', {\n          attrs: {\n            \"name\": \"time\"\n          }\n        }), _vm._v(\" \"), _c('span', {\n          staticStyle: {\n            \"margin-left\": \"10px\"\n          }\n        }, [_vm._v(_vm._s(_vm._f(\"timeConversion\")(scope.row.createdAt)))])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"用户名称\",\n      \"align\": \"center\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('span', [_vm._v(_vm._s(scope.row.username))])]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"操作\",\n      \"align\": \"center\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          directives: [{\n            name: \"show\",\n            rawName: \"v-show\",\n            value: (!scope.row.edit),\n            expression: \"!scope.row.edit\"\n          }],\n          attrs: {\n            \"type\": \"primary\",\n            \"size\": \"small\",\n            \"icon\": \"edit\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.handleEdit(scope.$index, scope.row)\n            }\n          }\n        }, [_vm._v(\"编辑\")]), _vm._v(\" \"), _c('el-button', {\n          directives: [{\n            name: \"show\",\n            rawName: \"v-show\",\n            value: (scope.row.edit),\n            expression: \"scope.row.edit\"\n          }],\n          staticClass: \"edit-btn\",\n          attrs: {\n            \"type\": \"success\",\n            \"size\": \"small\",\n            \"icon\": \"check\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.handleEditSave(scope.$index, scope.row)\n            }\n          }\n        }, [_vm._v(\"完成\")]), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"size\": \"small\",\n            \"type\": \"danger\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.handleDelete(scope.$index, scope.row)\n            }\n          }\n        }, [_vm._v(\"删除\")])]\n      }\n    }])\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"footer-wrapper\"\n  }, [_c('Pagination', {\n    attrs: {\n      \"total\": _vm.count,\n      \"pageSizes\": _vm.pageSizes\n    },\n    on: {\n      \"handleSizeChange\": _vm.handleSizeChange,\n      \"handleCurrentChange\": _vm.handleCurrentChange\n    }\n  })], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"新增角色\",\n      \"visible\": _vm.isDialog\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.isDialog = $event\n      }\n    }\n  }, [_c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"model\": _vm.addForm,\n      \"label-width\": \"80px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"角色名称\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.addForm.name),\n      callback: function($$v) {\n        _vm.addForm.name = $$v\n      },\n      expression: \"addForm.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"角色权限\"\n    }\n  }, [_vm._v(\"\\n                读\"), _c('el-switch', {\n    attrs: {\n      \"on-text\": \"\",\n      \"off-text\": \"\"\n    },\n    model: {\n      value: (_vm.addForm.read),\n      callback: function($$v) {\n        _vm.addForm.read = $$v\n      },\n      expression: \"addForm.read\"\n    }\n  }), _vm._v(\"\\n                写\"), _c('el-switch', {\n    attrs: {\n      \"on-text\": \"\",\n      \"off-text\": \"\"\n    },\n    model: {\n      value: (_vm.addForm.write),\n      callback: function($$v) {\n        _vm.addForm.write = $$v\n      },\n      expression: \"addForm.write\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.isDialog = false\n      }\n    }\n  }, [_vm._v(\"取 消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.saveAdd\n    }\n  }, [_vm._v(\"确 定\")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-72985538\",\"hasScoped\":false}!./~/.12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/manageView/users.vue\n// module id = 202\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/.0.25.0@css-loader/index.js!../../../node_modules/.12.2.2@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-72985538\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/.5.0.1@sass-loader/lib/loader.js!../../../node_modules/.12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./users.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/.3.0.1@vue-style-loader/lib/addStylesClient.js\")(\"e77fdee8\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.3.0.1@vue-style-loader!./~/.0.25.0@css-loader!./~/.12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-72985538\",\"scoped\":false,\"hasInlineConfig\":false}!./~/.5.0.1@sass-loader/lib/loader.js!./~/.12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/views/manageView/users.vue\n// module id = 211\n// module chunks = 1","<template>\r\n    <div class=\"\">\r\n        <div class=\"topbar-wrapper\">\r\n            <el-button\r\n                    size=\"small\"\r\n                    type=\"danger\"\r\n                    @click=\"add\">新建角色\r\n            </el-button>\r\n        </div>\r\n        <div class=\"table-wrapper\">\r\n            <el-table\r\n                    :data=\"usersList\"\r\n                    @selection-change=\"selectAll\"\r\n                    border\r\n                    fit\r\n                    highlight-current-row\r\n                    style=\"width: 100%\">\r\n                <el-table-column\r\n                        type=\"selection\"\r\n                        width=\"55\" align=\"center\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        label=\"日期\" align=\"center\">\r\n                    <template scope=\"scope\">\r\n                        <el-icon name=\"time\"></el-icon>\r\n                        <span style=\"margin-left: 10px\">{{ scope.row.createdAt | timeConversion}}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                        label=\"用户名称\" align=\"center\">\r\n                    <template scope=\"scope\">\r\n                        <span>{{scope.row.username}}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"操作\" align=\"center\">\r\n                    <template scope=\"scope\">\r\n                        <el-button\r\n                                v-show=\"!scope.row.edit\"\r\n                                type=\"primary\"\r\n                                size=\"small\"\r\n                                @click='handleEdit(scope.$index, scope.row)' icon=\"edit\">编辑</el-button>\r\n                        <el-button\r\n                                class=\"edit-btn\"\r\n                                v-show=\"scope.row.edit\"\r\n                                type=\"success\"\r\n                                size=\"small\"\r\n                                @click=\"handleEditSave(scope.$index, scope.row)\" icon=\"check\">完成</el-button>\r\n                        <el-button\r\n                                size=\"small\"\r\n                                type=\"danger\"\r\n                                @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </div>\r\n        <div class=\"footer-wrapper\">\r\n            <Pagination\r\n                    :total=\"count\"\r\n                    :pageSizes = \"pageSizes\"\r\n                    @handleSizeChange=\"handleSizeChange\"\r\n                    @handleCurrentChange=\"handleCurrentChange\">\r\n            </Pagination>\r\n        </div>\r\n        <el-dialog title=\"新增角色\" :visible.sync=\"isDialog\">\r\n            <el-form ref=\"form\" :model=\"addForm\" label-width=\"80px\">\r\n                <el-form-item label=\"角色名称\">\r\n                    <el-input v-model=\"addForm.name\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"角色权限\">\r\n                    读<el-switch on-text=\"\" off-text=\"\" v-model=\"addForm.read\"></el-switch>\r\n                    写<el-switch on-text=\"\" off-text=\"\" v-model=\"addForm.write\"></el-switch>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"isDialog = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"saveAdd\">确 定</el-button>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n<style lang=\"scss\">\r\n\r\n</style>\r\n<script type='text/ecmascript-6'>\r\n    import Pagination from 'components/Pagination/index';\r\n    import { getUsers, getUserCount, delUsers } from 'api/users';\r\n    import { conversionData, errorMessage, confirmMessage } from 'utils/index';\r\n    import { restData, delDataList } from 'utils/MO';\r\n    export default {\r\n        name: 'users',\r\n        created() {\r\n            this.getUsersList();\r\n            this.getCount();\r\n        },\r\n        data() {\r\n            return {\r\n                usersList: [],\r\n                isDialog: false,\r\n                multipleSelection: [],\r\n                pageSizes:[10,20],\r\n                addForm: {\r\n                    name: '',\r\n                    read: false,\r\n                    write: false\r\n                },\r\n                listQuery: {\r\n                    limit: 10,\r\n                    skip: 0\r\n                },\r\n                count: 0\r\n            }\r\n        },\r\n        computed: {\r\n\r\n        },\r\n        methods: {\r\n            getUsersList() {\r\n                getUsers(this.listQuery).then((res) => {\r\n                    this.usersList = conversionData(res).data.results.map(v => {\r\n                        v.edit = false;\r\n                        return v;\r\n                    })\r\n                })\r\n            },\r\n            getCount() {\r\n                getUserCount().then((res) => {\r\n                    this.count = conversionData(res);\r\n                });\r\n            },\r\n            add() {\r\n                restData(this.addForm);\r\n                this.isDialog = true;\r\n            },\r\n            saveAdd() {\r\n                createdRoles(this.addForm).then(() => {\r\n                    this.isDialog = false;\r\n                    this.$message.success('新增成功');\r\n                    this.getRolesList();\r\n                }).catch(error => {\r\n                    errorMessage(error)\r\n                });\r\n            },\r\n            selectAll(val) {\r\n                this.multipleSelection = val;\r\n            },\r\n            handleEdit(index,row) {\r\n                row.edit = true;\r\n            },\r\n            handleEditSave(index,row) {\r\n                let params = {\r\n                    remark: row.remark\r\n                };\r\n                updateRoles(row.objectId,params).then((res) => {\r\n                    if (res.status == 200) {\r\n                        row.edit = false;\r\n                    }\r\n                })\r\n            },\r\n            handleDelete(index,row) {\r\n                confirmMessage(\"确定删除该用户吗？\").then(() => {\r\n                    delUsers(row.objectId).then((res) => {\r\n                        delDataList(this.usersList,row);\r\n                        this.$message.success('删除成功');\r\n                    })\r\n                }).catch(error => {\r\n                    if(error) {\r\n                        errorMessage(error);\r\n                    } else {\r\n                        this.$message.close();\r\n                    }\r\n                });\r\n            },\r\n            handleSizeChange(val) {\r\n                this.listQuery.limit = val;\r\n                this.getUsersList(this.listQuery);\r\n            },\r\n            handleCurrentChange(val) {\r\n                this.listQuery.skip = (val -1) * this.listQuery.limit;\r\n                this.getUsersList(this.listQuery);\r\n            }\r\n        },\r\n        components: {\r\n            'Pagination': Pagination\r\n        }\r\n    }\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// users.vue?347954c2","import AV from 'leancloud-storage';\r\nimport fetch from 'utils/fetch';\r\n\r\nconst query = new AV.Query('_User');\r\n\r\nexport function getUsers(params) {\r\n    return fetch({\r\n        url: 'users',\r\n        method: 'GET',\r\n        params: params\r\n    })\r\n}\r\n\r\nexport function getUserCount() {\r\n    return query.count();\r\n}\r\n\r\nexport function delUsers(id) {\r\n    return fetch({\r\n        url: 'users/' + id,\r\n        method: 'DELETE'\r\n    })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/users.js"],"sourceRoot":""}